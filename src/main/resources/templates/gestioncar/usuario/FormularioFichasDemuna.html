<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
--> 
<html lang="es" 
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:th="http://www.thymeleaf.org" 
      layout:decorate="~{fragment/templateIndex}">
    <head>
        <title layout:title-pattern="$LAYOUT_TITLE - $CONTENT_TITLE">Formulario de Ficha Supervisión Nacional a los Centros de Acogida Residencial de NNA</title> 
        <!-- Tempus-dominus -->
        <link rel="stylesheet" th:href="@{/webjars/eonasdan__tempus-dominus/6.7.7/dist/css/tempus-dominus.min.css}"/>
        <!--Css plusnet -->
        <link rel="stylesheet" th:href="@{/css/plusnet/plusnet.css}" type="text/css"/>
        <!-- border-spacing:45px; -->
 <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.8/dist/sweetalert2.all.min.js"></script>       
<link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.8/dist/sweetalert2.min.css" rel="stylesheet">
        <style type="text/css">
          .scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background-color: #333;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s, transform 0.3s;
        }

        .scroll-to-top:hover {
            background-color: #555;
            transform: scale(1.1);
        }

        .scroll-to-top::before {
            content: '↑';
            font-size: 24px;
        }
            .checkNoaplica {
                display: block;
                min-height: 1.5rem;
                padding-left: 35em;
                margin-bottom: .125rem;
            }

            .na tr td input {
                width: 7rem;
            }

            /*            @media print {
                            @page {
                                size: A4;
                                margin: 0;
                            }
            
                            body {
                                transform: scale(0.8);
                                transform-origin: 0 0;
                            }
                        }*/

            @page {
                size: A4;
                margin: 0;
            }
            .dark-gray-divider {
            border: none;
            border-top: 2px solid #333; /* Color plomo oscuro */
            margin: 20px 0;
        }
        
        .floating-label-group {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .floating-label {
            position: absolute;
            pointer-events: none;
            left: 1rem;
            top: 1rem;
            transition: 0.2s ease all;
            opacity: 0.5;
        }

        .floating-input:focus ~ .floating-label,
        .floating-input:not(:placeholder-shown) ~ .floating-label {
            top: -1rem;
            left: 0.75rem;
            font-size: 0.75rem;
            opacity: 1;
        }

        .floating-input {
            border: 1px solid #ced4da;
            padding: 1rem 1rem 0.5rem;
            width: 100%;
        }
        
        .hidden-button {
            display: none;
        }
        
        th{
                font-size: 0.8rem !important;
                align-content: center;
                font-weight: 700;
                color: #062d73;
        }
        </style>
        
    </head>
    <body>
        <div layout:fragment="content"> 
            <div class="pagetitle">
                <h1>Formulario de Ficha Supervisión Nacional a los Centros de Acogida Residencial de NNA</h1>
                <nav>
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">Supervisi&oacute;n a Centros de Acogida Residenciales</li>
                        <li class="breadcrumb-item">Registrar ficha</li>
                        <li class="breadcrumb-item active">Formulario de Ficha</li>
                    </ol>
                </nav>
            </div><!-- End Page Title -->
            <section class="section">
                <div class="row">
                    <div class="col-lg-12">
                        <form id="frm_fichas" 
                              method      ="post" 
                              autocomplete="off"
                              th:action   ="@{/dp/usuario/ficha/guardarFicha}" 
                              th:object   ="${ficha}"  
                              onsubmit="validacion_final()"
                              class="was-validated">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <h5 class="card-title"></h5>
                                         <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                             
                                              <!--<div class="accordion-item" th:if="${session.rol_usuario.equals('ROL_COMISIONADO')}">
                                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="width:100% !important; height: 50px;">  
                                                    
                                                         <div class="floating-label-group">
                                                             <div id="fch_supervision" class="input-group"  data-td-target-input="nearest" data-td-target-toggle="nearest">
                                                                 <input id="d_fch_supervision" style="height: 50px;" name="fecha_hora" th:field="*{fch_supervision}" type="text" class="form-control" data-td-target="#fch_supervision" placeholder="dd/mm/yyyy" th:readonly="true" th:required="true" />
                                                                 <span class="input-group-text" data-td-target="#fch_supervision" data-td-toggle="datetimepicker">
                                                                     <i class="fa-solid fa-calendar-days"></i>
                                                                 </span>
                                                             </div>
                                                            
                                                         </div>
                                                    
                                                 </div>
                                           </div>-->
                                            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6" style="width:20% !important; height: 50px;">  
                                                <div class="floating-label-group">
                                                    <input type="text" id="cod_unico" name="cod_unico" th:field="*{cod_unico}"  class="form-control sop floating-input"  readonly ></input>
                                                    <label for="cod_unico" class="floating-label">CODIGO CAR</label>
                                                </div>
                                            </div>
                                         </div>

                                           <div class="accordion-item"> 
                                             <div class="accordion-item no_boton"  > 
                                                <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-3">
                                                    <!--<button type="button" id="download-button" value="Export" class="btn btn-primary">Imprimir</button>-->
                                                    <button id="btn_guardar" class="btn btn-success" type="submit" name="guardar" th:if="${ficha.id_ficha!=null}" onclick="guardar_total()">
                                                        <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardar ficha Completa</button>
                                                    <!--<button class="btn btn-primary" th:onclick="|window.location.href='@{/educa/usuario/ficha/listarFichas}'|" type="button"  th:if="${session.rol_usuario.equals('ROL_COMISIONADO')}">
                                                        <i class="fa-solid fa-right-from-bracket"></i> Volver</button>-->

                                                </div>
                                              </div>
                                            </div>
                                            <br/>
                                            <div class="p-1 bg-secondary w-100"></div>
                                            <br/>
                                            <div>
                                             <!--   <input type="hidden" id="id_ficha" th:field="*{id_ficha}" th:value="0" />-->

                                                <input type="hidden" id="id_ficha" th:field="*{id_ficha}"/>
                                              <!--  <input type="hidden" id="tipo_ficha" th:field="*{tipo_ficha}"/>-->
                                                <input type="hidden" id="codi_depe_tde" th:field="*{codi_depe_tde}"/>
                                                <input type="hidden" id="flag_guardado_parcial" th:field="*{flag_guardado_parcial}"/>
                                                <input type="hidden" id="txt_btn_guardado_parcial" th:field="*{txt_btn_guardado_parcial}"/>
                                                <input type="hidden" id="estado" th:field="*{estado}"/>
                                                <input type="hidden" id="flag_modal" th:field="*{flag_modal}"/>
                                                <input type="hidden" id="usu_registro" th:field="*{usu_registro}"/>
                                                <input type="hidden" id="fch_registro" th:field="*{fch_registro}"/>
                                                <input type="hidden" id="usu_actualiza" th:field="*{usu_actualiza}"/>
                                                <input type="hidden" id="fch_actualiza" th:field="*{fch_actualiza}"/>
                                                <input type="hidden" id="rol_usuario" th:value="${session.rol_usuario}"/>
                                                <!--input type="hidden" id="flag_validar" th:field="*{flag_validar}"/-->
                                                <input type="hidden" id="flag_validar" th:field="*{flag_validar}"/>
                                                <input type="hidden" id="usu_valida" th:field="*{usu_valida}"/>
                                                <input type="hidden" id="fch_valida" th:field="*{fch_valida}"/>
                                                
                                            </div>

                                            
                                            
                                            
                                            <div class="alert alert-danger" role="alert" th:if="${ficha.estado != null && ficha.estado.equals('I')}">
                                                <h4 class="alert-heading" style="font-weight: bold">Registro de ficha incompleta!</h4>
                                            </div>

                                            <div class="alert alert-success" role="alert" th:if="${ficha.estado != null and  ficha.estado.equals('C') }">
                                                <h4 class="alert-heading" style="font-weight: bold">Registro de ficha completa!</h4>
                                                <p>Estimado/a su ficha de supervisi&oacute;n de Demuna ha sido registrada correctamente.</p>
                                                <hr>
                                                    <p class="mb-0">Muchas gracias por su participaci&oacute;n.</p>
                                            </div>
                                           
                                            <div id="div_validar_ficha_pca" th:fragment="data_validar_ficha_pca">
                                                <div th:if="${session.rol_usuario.equals('ROL_ESPECIALISTA')}"
                                                     th:class="${ficha.flag_validar == null ? 'alert alert-secondary' : (ficha.flag_validar == '0' ? 'alert alert-danger' : (ficha.flag_validar == '1' ? 'alert alert-warning' : (ficha.estado != null && ficha.estado.equals('C') ? 'alert alert-success' : 'alert alert-warning')))}"
                                                     role="alert">
                                                    <h4 class="alert-heading" style="font-weight: bold"
                                                        th:text="${ficha.flag_validar == null ? 'Ficha sin validar!' : (ficha.flag_validar == '0' ? 'Ficha sin validar!' : (ficha.flag_validar == '1' ? 'Ficha validada parcialmente!' : (ficha.estado != null && ficha.estado.equals('C') ? 'Ficha validada!' : 'Ficha validada parcialmente')))}"></h4>
                                                    <p th:text="${ficha.flag_validar == null || ficha.flag_validar == '1' || ficha.flag_validar == '0' ?  'Estimado/a por favor validar las secciones faltantes.' : (ficha.estado != null && ficha.estado.equals('C') ? 'Estimado/a su ficha de supervisión ha sido validada correctamente.' : 'Estimado/a por favor completar con el guardado total de la ficha')}"></p>

                                                    <div th:if="${ficha.flag_validar == '2'}">
                                                        <hr>
                                                            <p class="mb-0">Muchas gracias por su participación.</p>
                                                    </div>
                                                </div>
                                            </div>  
                                          
                                    
                    <div class="accordion" id="accordionPanelsStayOpenExample">
                        <div class="accordion-item" th:if="${session.rol_usuario.equals('ROL_COMISIONADO')}">
                            <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                                        data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" 
                                        aria-controls="panelsStayOpen-collapseOne">
                                    <i class="fa-solid fa-database me-2"></i> DATOS GENERALES
                                </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
                                                        <div class="accordion-body">
                                                            
                                                            <div class="row">  
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="fecha_hora" class="col-xs-3 col-sm-3 col-md-3 col-lg-3 col-form-label">Fecha de Supervisión</label>
                                                                        <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                                                            <div id="fch_supervision" class="input-group"  data-td-target-input="nearest" data-td-target-toggle="nearest">
                                                                                <input id="d_fch_supervision" name="fecha_hora" th:field="*{fch_supervision}" type="text" class="form-control" data-td-target="#fch_supervision" placeholder="dd/mm/yyyy" th:readonly="true" />
                                                                                <span class="input-group-text" data-td-target="#fch_supervision" data-td-toggle="datetimepicker">
                                                                                    <i class="fa-solid fa-calendar-days"></i>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>                                                            
                                                            
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="txt_desc_depe_tde" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-form-label">OD o MOD</label>
                                                                        <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
                                                                            <input id="txt_desc_depe_tde" th:field="*{txt_desc_depe_tde}" th:readonly="true" type="text" class="form-control-plaintext"></input>
                                                               

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row mb-3">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="txt_comisionado" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-form-label">Comisionado/a ó entrevistador(a):</label>
                                                                        <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
                                                                            <input id="txt_comisionado" th:field="*{txt_comisionado}" th:readonly="true" type="text" class="form-control-plaintext " ></input>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row" >
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                        <div class="row mb-3">

                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="floating-label-group">
                                                                                    <input id="dni_comisionado" type="text" class="form-control sop floating-input" 
                                                                                           max="99999999" th:field="*{dni_comisionado}" 
                                                                                           oninput="validateDNIEntrevistador()" />
                                                                                    <label for="dni_comisionado" class="floating-label">DNI del entrevistador:</label>
                                                                                    <small id="dniError" style="color: red; display: none;">El DNI debe tener exactamente 8 dígitos.</small>
                                                                                </div>
                                                                            </div>

                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="floating-label-group">
                                                                                    <input id="correo_comisionado" type="text" class="form-control search_ie floating-input" maxlength="95" th:field="*{correo_comisionado}" onkeypress="if (this.value.length === 95) return false;"   />
                                                                    
                                                                                    <label for="correo_comisionado" class="floating-label">Correo del entrevistador:</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="floating-label-group">
                                                                                    <input id="cel_comisionado" type="number" class="form-control search_ie floating-input" maxlength="9" th:field="*{cel_comisionado}" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  />
                                                                                    <label for="cel_comisionado" class="floating-label">Teléfono Celular:</label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            

                                                            
                                                          
                                                            
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="accordion-item" >
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_1') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="true" aria-controls="panelsStayOpen-collapseTwo">
                                                            INFORMACIÓN DEL CENTRO DE ACOGIDA RESIDENCIAL
                                                        </button>
                                                    </h2>
                                                        <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse show mt-4"> 
                                                        <div class="accordion-body">


                                                            <div id="data_busqueda" th:fragment="data_busqueda">
                                                                <div>
                                                                    <input type="hidden" id="flag_ie" />
                                                                    <input type="hidden" id="msg_modal_ie" />
                                                                    <input type="hidden" id="id_sestablecmnt" th:field="*{id_sestablecmnt}" />

                                                                </div>

                                                             
                                                                <div class="row" >
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                        <div class="row mb-3">

                                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                <div class="floating-label-group">
                                                                                    <input id="nom_entidad"  maxlength="190" type="text" th:field="*{nom_entidad}" onkeyup="mayus(this);"  class="form-control floating-input only-text"  onkeypress="if (this.value.length === 190)
                                                                    return false;"   ></input>
                                                                                    <label for="nom_entidad" class="floating-label">Nombre del Centro de Acogida Residencial :</label>
                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                    </div>
                                                                </div> 

                                                                
                                                                <div class="row" >
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                        <div class="row mb-3">
                                                                            <!-- <label for="xxx" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-form-label"> Ubicaci&oacute;n </label>-->
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">

                                                                                <div class="form-floating mb-3">
                                                                                    <input id="departamento_car"    name="departamento_car" type="text" th:field="*{departamento_car}" th:readonly="true" class="form-control search_ie"></input>

                                                                                    <label for="departamento_car"><b></b>Departamento: </label>  
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="form-floating mb-3">
                                                                                    <input id="provincia_car" name="provincia_car"  type="text"   th:field="*{provincia_car}" th:readonly="true" class="form-control search_ie"></input>

                                                                                    <label for="provincia_car"><b></b>Provincia: </label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="form-floating mb-3">
                                                                                    <input id="distrito_car" name="distrito_car"  type="text"   th:field="*{distrito_car}" th:readonly="true" class="form-control search_ie" ></input>

                                                                                    <label for="distrito_car"><b></b>Distrito: </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <input type="hidden" id="codi_depa_dpt" th:field="*{codi_depa_dpt}"/>
                                                                <input type="hidden" id="codi_prov_tpr" th:field="*{codi_prov_tpr}"/>
                                                                <input type="hidden" id="codi_dist_tdi" th:field="*{codi_dist_tdi}"/>
                                                                
                                                                <div class="row">
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                        <div class="row mb-3">
                                                                            <!-- <label for="xxx" class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-form-label"> Ubicaci&oacute;n </label>-->
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">

                                                                                <div class="form-floating mb-3">
                                                                                    <input id="centro_poblado"    name="centro_poblado" type="text" th:field="*{centro_poblado}"  onkeyup="mayus(this);" class="form-control search_ie only-text" onkeypress="if (this.value.length === 280)
                                                                                   return false;" ></input>

                                                                                    <label for="centro_poblado"><b></b>Centro Poblado: </label>  
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="form-floating mb-3">
                                                                                    <input id="comunidad_campe" name="comunidad_campe"  type="text"   th:field="*{comunidad_campe}" onkeyup="mayus(this);"  class="form-control search_ie only-text" onkeypress="if (this.value.length === 280)
                                                                                     return false;"></input>

                                                                                    <label for="comunidad_campe"><b></b>Comunidad Campesina: </label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
                                                                                <div class="form-floating mb-3">
                                                                                    <input id="comunidad_indigena" name="comunidad_indigena"  type="text"   th:field="*{comunidad_indigena}"  onkeyup="mayus(this);" class="form-control search_ie only-text" onkeypress="if (this.value.length === 280)
                                                                                     return false;"></input>

                                                                                    <label for="comunidad_indigena"><b></b>Comunidad Indigena: </label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                        <div class="row mb-3">
                                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                <div class="floating-label-group">
                                                                                    <input id="direccion_car" maxlength="190"  type="text"
                                                                                           th:field="*{direccion_car}" onkeyup="mayus(this);" class="form-control floating-input only-text"
                                                                                           onkeypress="if (this.value.length === 250) return false;" ></input>
                                                                                    <label for="direccion_car" class="floating-label">Dirección :</label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                
                                                                <div class="row" >                                                           
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="row mb-3 " >
                                                                                <label for="p2_11_s1"  class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label">Modalidad de Administración :</label>

                                                                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="modalidad_car_a" name="modalidad_car" value="a" th:field="*{modalidad_car}" th:required="${modalidad_car == null}"   />
                                                                                        <label class="form-check-label" for="modalidad_car_a">a. Pública</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="modalidad_car_b" name="modalidad_car" value="b" th:field="*{modalidad_car}"  th:required="${modalidad_car == null}"/>
                                                                                        <label class="form-check-label" for="modalidad_car_b">b. Privada</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="modalidad_car_c" name="modalidad_car" value="c" th:field="*{modalidad_car}"  th:required="${modalidad_car == null}"/>
                                                                                        <label class="form-check-label" for="modalidad_car_c">c. Mixta</label>
                                                                                    </div>

                                                                                 </div>
                                                                              </div>
                                                                            </div>
                                                                       </div>
                                                                
                                                                
                                                                <div class="row">                                                           
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="row mb-3 " >
                                                                                <label for="p2_11_s1"  class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label">Administración a cargo de de:</label>

                                                                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="acargode_a" name="acargode" value="a" th:field="*{acargode}" th:required="${acargode == null}"  />
                                                                                        <label class="form-check-label" for="acargode_a">a. INABIF </label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="acargode_b" name="acargode" value="b" th:field="*{acargode}"  th:required="${acargode == null}"/>
                                                                                        <label class="form-check-label" for="acargode_b">b. Beneficiencia Pública</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="acargode_c" name="acargode" value="c" th:field="*{acargode}" th:required="${acargode == null}"/>
                                                                                        <label class="form-check-label" for="acargode_c">c. Gobierno Regional</label>
                                                                                    </div>
                                                                                   
                                                                                   <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="acargode_d" name="acargode" value="d" th:field="*{acargode}" th:required="${acargode == null}"/>
                                                                                        <label class="form-check-label" for="acargode_d">d. Gobierno Local</label>
                                                                                    </div>
                                                                                   
                                                                                     <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="acargode_e" name="acargode" value="e" th:field="*{acargode}" th:required="${acargode == null}"/>
                                                                                        <label class="form-check-label" for="acargode_e">e. Asociación religiosa</label>
                                                                                    </div>


                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="acargode_f" name="acargode" value="f" th:field="*{acargode}" th:required="${acargode == null}"   />
                                                                                        <label class="form-check-label" for="acargode_f">f. Otros (detalle) </label>
                                                                                    </div>
                                                                                    <br><br>
                                                                                            <textarea th:disabled="*{acargode == 'f'? 'false':'true'}"  		
                                                                                                id="acargode_otros" th:field="*{acargode_otros}" name="acargode_otros" maxlength="450" class="form-control" onkeyup="this.value = this.value.toUpperCase();" onkeypress="if (this.value.length === 450)  return false;" rows="3" placeholder="Detallar" disabled>
                                                                                            </textarea> 

                                                                                            <br/>
                                                                                 </div>
                                                                              </div>
                                                                            </div>
                                                                       </div>
                                                              
                                                                        <div class="row" >                                                           
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="row mb-3 " >
                                                                                <label for="p2_11_s1"  class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label">El/los inmueble/s donde se encuentra(n) la(s) vivienda(s) del CAR es:</label>

                                                                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="inmueble_car_a" name="inmueble_car" value="a" th:field="*{inmueble_car}"  th:required="${inmueble_car == null}"  />
                                                                                        <label class="form-check-label" for="inmueble_car_a">a. Propio</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="inmueble_car_b" name="inmueble_car" value="b" th:field="*{inmueble_car}"  th:required="${inmueble_car == null}" />
                                                                                        <label class="form-check-label" for="inmueble_car_b">b. Arrendado</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="inmueble_car_c" name="inmueble_car" value="c" th:field="*{inmueble_car}"  th:required="${inmueble_car == null}" />
                                                                                        <label class="form-check-label" for="inmueble_car_c">c. Ambos</label>
                                                                                    </div>

                                                                                 </div>
                                                                              </div>
                                                                            </div>
                                                                       </div>
                                                                
                                                                    <div class="row" >                                                           
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="row mb-3 " >
                                                                                <label for="p2_11_s1"  class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label">Tipo CAR:</label>

                                                                               <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="tipo_car_a" name="tipo_car" value="a" th:field="*{tipo_car}"  th:required="${tipo_car == null}"/>
                                                                                        <label class="form-check-label" for="tipo_car_a">a. CAR de Urgencia</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="tipo_car_b" name="tipo_car" value="b" th:field="*{tipo_car}"  th:required="${tipo_car == null}"/>
                                                                                        <label class="form-check-label" for="tipo_car_b">b. CAR Básico</label>
                                                                                    </div>
                                                                                    <div class="form-check form-check-inline">
                                                                                        <input  class="form-check-input" type="radio"  id="tipo_car_c" name="tipo_car" value="c" th:field="*{tipo_car}" th:required="${tipo_car == null}" th:onchange="valida_tipocar()" />
                                                                                        <label class="form-check-label" for="tipo_car_c">c. CAR Especializado</label>
                                                                                    </div>

                                                                                 </div>
                                                                              </div>
                                                                            </div>
                                                                       </div>
                                                                
                                                                <div class="row" >
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="p6_4" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label pt-0"> En caso sea un CAR Especializado, precisal cuál es el perfil de acuerdo a su acreditación o plan de acreditación:   
                                                                        </label>
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="form-check">
                                                                                <input  class="form-check-input check_p1_3" type="radio" id="perfil_car_a" th:field="*{perfil_car}" value="a"
                                                                                    th:required="${perfil_car == null}" th:disabled="${tipo_car == 'c' ? 'false' : 'true'}" />
                                                                                <label class="form-check-label" for="perfil_car_a">
                                                                                    1. Discapacidad severa 

                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input check_p1_3" type="radio" id="perfil_car_b" th:field="*{perfil_car}" value="b"
                                                                                     th:required="${perfil_car == null}" th:disabled="${tipo_car == 'c' ? 'false' : 'true'}" />
                                                                                <label class="form-check-label" for="perfil_car_b">
                                                                                    2. Víctimas de trata de personas 

                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input check_p1_3" type="radio" id="perfil_car_c" th:field="*{perfil_car}" value="c"
                                                                                        th:required="${perfil_car == null}" th:disabled="${tipo_car == 'c' ? 'false' : 'true'}"  />
                                                                                <label class="form-check-label" for="perfil_car_c">
                                                                                    3.  Enfermedades de salud mental 
                                                                                </label>
                                                                            </div>

                                                                            <div class="form-check">
                                                                                <input class="form-check-input check_p1_3" type="radio" id="perfil_car_d" th:field="*{perfil_car}" value="d"
                                                                                     th:required="${perfil_car == null}" th:disabled="${tipo_car == 'c' ? 'false' : 'true'}"  />
                                                                                <label class="form-check-label" for="perfil_car_d">
                                                                                    4. Víctimas de violencia sexual 

                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input  class="form-check-input check_p1_3" type="radio" id="perfil_car_e" th:field="*{perfil_car}" value="e"
                                                                                     th:required="${perfil_car == null}" th:disabled="${tipo_car == 'c' ? 'false' : 'true'}" />
                                                                                <label class="form-check-label" for="perfil_car_e">
                                                                                    5. Gestantes y madres adolescentes 

                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input check_p1_3" type="radio" id="perfil_car_f" th:field="*{perfil_car}" value="f"
                                                                                       th:required="${perfil_car == null}"  th:disabled="${tipo_car == 'c' ? 'false' : 'true'}"  />
                                                                                <label class="form-check-label" for="perfil_car_f">
                                                                                    6. Consumo de drogas, alcoholismo o fármacos


                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input check_p1_3" type="radio" id="perfil_car_g" th:field="*{perfil_car}" value="g"
                                                                                       th:required="${perfil_car == null}"  th:disabled="${tipo_car == 'c' ? 'false' : 'true'}" />
                                                                                <label class="form-check-label" for="perfil_car_g">
                                                                                    7.   Personas que viven con VIH/Sida 


                                                                                </label>
                                                                            </div>
                                                                            <div class="form-check">
                                                                                <input class="form-check-input check_p1_3" type="radio" id="perfil_car_h" th:field="*{perfil_car}" value="h"
                                                                                       th:required="${perfil_car == null}"  th:disabled="${tipo_car == 'c' ? 'false' : 'true'}" />
                                                                                <label class="form-check-label" for="perfil_car_h">
                                                                                    8.  Experiencia de vida en calle
                                                                                </label>
                                                                            </div>
                                                                            
                                                                            <div class="form-check">
                                                                                <input  class="form-check-input check_p1_3" type="radio" id="perfil_car_i" th:field="*{perfil_car}" value="i"
                                                                                        th:required="${perfil_car == null}" th:disabled="${tipo_car == 'c' ? 'false' : 'true'}"  />
                                                                                <label class="form-check-label" for="perfil_car_i">
                                                                                    9.   Otras situaciones que requieren atención especializada
                                                                                </label>
                                                                                <textarea  th:disabled="${perfil_car == 'i' ? 'false' : 'true'}" id="perfil_car_otros"  name="perfil_car_otros" maxlength="490" class="form-control" palceholder="Detalle Otro" onkeyup="this.value = this.value.toUpperCase();" onkeypress="if (this.value.length === 490)
                                                                                        return false;" th:field="*{perfil_car_otros}" rows="3"  ></textarea>

                                                                            </div>
                                                                        </div>


                                                                    </div>
                                                                </div>
                                                        </div>
                                                                
                                                        <div class="row mb-5">
                                                            <div class="col-12">
                                                                <label class="form-label ">Perfil etario del CAR:</label>
                                                                <div class="d-flex align-items-center">
                                                                        <span>De</span>
                                                                    <input type="number" class="form-control mx-2" id="edadmin" style="width: 100px;" placeholder="____" min="0"  th:field="*{edadmin}" maxlength="2"  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"  >
                                                                        <span>a</span>
                                                                    <input type="number" class="form-control mx-2" id="edadmax" style="width: 100px;" placeholder="____" min="0"  th:field="*{edadmax}" maxlength="2"  oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" >
                                                                        <span>años (en números)</span>
                                                                </div>
                                                            </div>
                                                        </div>
<!---------------------------INICIO OCULTA------------------->
                                                <div class="oculta_s1" id="oculta_s1x" th:if="${ficha.id_ficha!=null}">  
                                                        
                                                                
                                                                                                            
                                                </div>                                                              
<!---------------------------FIN OCULTA------------------->

                                                                <div class="accordion-item" >
                                                                    <div class="d-flex justify-content-between">
                                                                        <div th:if="${ficha.flag_validar != '2'}">
                                                                            <button  id="btn_guardar_sec_1" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_1" onclick="guardar_parcial(this)">
                                                                                <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                            </button>
                                                                        </div>
                                                                        <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                            <div id="div_sec_1_alert_validado" th:fragment="data_sec_1_alert_validado">
                                                                                <div>
                                                                                    <button id="btn_validar_sec_1" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_1" onclick="validar_parcial(this)">
                                                                                        <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                    </button>
                                                                                </div>

                                                                                <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                                    <div  class="alert alert-success" role="alert" th:if="${ficha.estado_s1 != null && ficha.estado_s1.equals('1')}">
                                                                                        <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                                    </div></div>
                                                                            </div>
                                                                        </div>

                                                                    </div>
                                                                </div>

                                            </div>

                                        </div>
                                </div>
                            </div>  
                                                   
                                        <div class="accordion-item " th:if="${ficha.id_ficha!=null}">
                                            <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                                                <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_1x') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="true" aria-controls="panelsStayOpen-collapseThree">
                                                   I. POBLACIÓN DEL CAR
                                                </button>
                                            </h2>
                                                    <div id="panelsStayOpen-collapseThree" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_1x') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-headingThree">

                                                        <div class="accordion-body">
                                                            
                                                            <input type="hidden" id="id_sec_1" th:field="*{car_ficha_s1.id_ficha_s1}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.usu_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.usu_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s1.fch_valida}"/> 
                                                          
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                                                                            <div class="form-floating mb-2">
                                                                                <input th:field="*{car_ficha_s1.p1_1_capacidad}"
                                                                                         id="p1_1_capacidad"
                                                                                         type="number"
                                                                                         class="form-control sop"
                                                                                         pattern="\d*"
                                                                                         placeholder="0"
                                                                                         oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);"
                                                                                         maxlength="4" required>
                                                                                <label for="p1_1_capacidad">Capacidad de acogida de la población:</label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
                                                                            <div class="form-floating mb-2">
                                                                                <input  th:field="*{car_ficha_s1.p1_1_total}"
                                                                                        id="p1_1_total"
                                                                                        type="number"
                                                                                        class="form-control sop"
                                                                                        pattern="\d*"
                                                                                        placeholder="0"
                                                                                        oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);"
                                                                                        maxlength="4" required>
                                                                                <label for="p1_1_total">Total de Población residente a la fecha:</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                                                          
                                                            <div class="row" style="margin-left:20px;">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="p5_3" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label"> 
                                                                            1.2. Precisar la cantidad de personas por sexo, nacionalidad y perfil múltiple, de existir:
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                                            
                                            
                                                                                <button type="button" class="button btn_guardar_parcial" data-bs-toggle="modal"
                                                                                data-bs-target="#modal_sec1_2" onclick="abrir_modal_sec1_2(null, null)">
                                                                                  <span class="button__text">Agregar</span>
                                                                                  <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24" fill="none" class="svg"><line y2="19" y1="5" x2="12" x1="12"></line><line y2="12" y1="12" x2="19" x1="5"></line></svg></span>
                                                                                </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row" id="div_sec1_2" th:fragment="data_sec1_2">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="table-responsive">
                                                                                  <table class="table table-bordered ">
                                                                                       <thead class="table-light ">
                                                                                        <tr>
                                                                                            <th rowspan="2" class="align-middle">Grupo Poblacional</th>
                                                                                            <th colspan="2">Femenino</th>
                                                                                            <th colspan="2">Masculino</th>
                                                                                            <th rowspan="2" class="align-middle">Total</th>
                                                                                             <th rowspan="2" class="align-middle">Editar</th>
                                                                                              <th rowspan="2" class="align-middle">Eliminar</th>
                                                                                          
                                                                                        </tr>
                                                                                  
                                                                                        <tr>
                                                                                            <th>Peruanas</th>
                                                                                            <th>Extranjeras</th>
                                                                                            <th>Peruanos</th>
                                                                                            <th>Extranjeros</th>
                                                                                        </tr>
                                                                                           
                                                                                    </thead>
                                                                                    <tbody th:each="item, rows : ${lista_s1_2_preguntas}" th:remove="tag">
                                                                                        <tr>
                                                                                            <td style="text-align: left;vertical-align: middle">
                                                                                                <span>
                                                                                                    <span th:switch="${item.p1_2_grupo_ocupa}">
                                                                                                        <span th:case="1">Discapacidad severa</span>
                                                                                                        <span th:case="2">Víctima de trata de personas</span>
                                                                                                        <span th:case="3">Enfermedades de Salud mental</span>
                                                                                                        <span th:case="4">Víctimas de violencia sexual</span>
                                                                                                        <span th:case="5">Gestantes y madres adolescentes</span>
                                                                                                        <span th:case="6">Consumo de Drogas, alcoholismo o fármacos</span>
                                                                                                        <span th:case="7">Enfermedades crónicas o terminales</span>
                                                                                                        <span th:case="8">Personas que viven con VIH/Sida</span>
                                                                                                        <span th:case="9">Experiencia de vida en calle</span>
                                                                                                    </span>
                                                                                                </span>
                                                                                            </td>
                                                                                            
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_2_peruanas}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_2_extranjeras}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_2_peruanos}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_2_extranjeros}"></span>
                                                                                            </td>
                                                                                              <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_2_total}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle;">
                                                                                                <a class="btnn" href="javascript:void(0)" data-bs-toggle="modal"
                                                                                                    data-bs-target="#modal_sec1_2"
                                                                                                    th:onclick="abrir_modal_sec1_2([[${item.car_ficha_s1_p1_2pk.id}]],[[${item.car_ficha_s1_p1_2pk.id_ficha}]])"
                                                                                                    title="Editar"> <i class="fa-solid fa-pen-to-square"></i></a>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle;">
                                                                                                <a class="btnn" href="javascript:void(0)"
                                                                                                    th:onclick="eliminar_modal_sec1_2([[${item.car_ficha_s1_p1_2pk.id}]],[[${item.car_ficha_s1_p1_2pk.id_ficha}]])"
                                                                                                    title="Eliminar"> <i class="fa-solid fa-trash-can"></i></a>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            
                                                            <div class="row" style="margin-left:20px;">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="p5_3" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label"> 
                                                                            1.3.Precisar la cantidad de personas por sexo, nacionalidad y edad :
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                                                                            
                                            
                                                                                <button type="button" class="button btn_guardar_parcial" data-bs-toggle="modal"
                                                                                data-bs-target="#modal_sec1_3" onclick="abrir_modal_sec1_3(null, null)">
                                                                                  <span class="button__text">Agregar</span>
                                                                                  <span class="button__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" viewBox="0 0 24 24" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" stroke="currentColor" height="24" fill="none" class="svg"><line y2="19" y1="5" x2="12" x1="12"></line><line y2="12" y1="12" x2="19" x1="5"></line></svg></span>
                                                                                </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                        <div class="row" id="div_sec1_3" th:fragment="data_sec1_3">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <div class="table-responsive">
                                                                                  <table class="table table-bordered ">
                                                                                       <thead class="table-light ">
                                                                                        <tr>
                                                                                            <th rowspan="2" class="align-middle">Grupo Poblacional</th>
                                                                                            <th colspan="2">Femenino</th>
                                                                                            <th colspan="2">Masculino</th>
                                                                                            <th rowspan="2" class="align-middle">SubTotal</th>
                                                                                             <th rowspan="2" class="align-middle">Editar</th>
                                                                                              <th rowspan="2" class="align-middle">Eliminar</th>
                                                                                          
                                                                                        </tr>
                                                                                  
                                                                                        <tr>
                                                                                            <th>Peruanas</th>
                                                                                            <th>Extranjeras</th>
                                                                                            <th>Peruanos</th>
                                                                                            <th>Extranjeros</th>
                                                                                        </tr>
                                                                                           
                                                                                    </thead>
                                                                                    <tbody th:each="item, rows : ${lista_s1_3_preguntas}" th:remove="tag">
                                                                                        <tr>
                                                                                            <td style="text-align: left;vertical-align: middle">
                                                                                                <span>
                                                                                                    <span th:switch="${item.p1_3_grupo_ocupa}">
                                                                                                        <span th:case="X">Menos de 1 año</span>
                                                                                                        <span th:case="1">1 año</span>
                                                                                                        <span th:case="2">2 años</span>
                                                                                                        <span th:case="3">3 años</span>
                                                                                                        <span th:case="4">4 años</span>
                                                                                                        <span th:case="5">5 años</span>
                                                                                                        <span th:case="6">6 años</span>
                                                                                                        <span th:case="7">7 años</span>
                                                                                                        <span th:case="8">8 años</span>
                                                                                                        <span th:case="9">9 años</span>
                                                                                                        <span th:case="10">10 años</span>
                                                                                                        <span th:case="11">11 años</span>
                                                                                                        <span th:case="12">12 años</span>
                                                                                                        <span th:case="13">13 años</span>
                                                                                                        <span th:case="14">14 años</span>
                                                                                                        <span th:case="15">15 años</span>
                                                                                                        <span th:case="16">16 años</span>
                                                                                                        <span th:case="17">17 años</span>
                                                                                                        <span th:case="18">18 años a más</span>
                                                                                                    </span>
                                                                                                </span>

                                                                                            </td>
                                                                                            
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_3_peruanas}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_3_extranjeras}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_3_peruanos}"></span>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_3_extranjeros}"></span>
                                                                                            </td>
                                                                                              <td style="text-align: center;vertical-align: middle">
                                                                                                <span th:text="${item.p1_3_subtotal}" class="subtotal"></span>
                                                                                            </td>
                                                                                            
                                                                                            <td style="text-align: center;vertical-align: middle;">
                                                                                                <a class="btnn" href="javascript:void(0)" data-bs-toggle="modal"
                                                                                                    data-bs-target="#modal_sec1_3"
                                                                                                    th:onclick="abrir_modal_sec1_3([[${item.car_ficha_s1_p1_3pk.id}]],[[${item.car_ficha_s1_p1_3pk.id_ficha}]])"
                                                                                                    title="Editar"> <i class="fa-solid fa-pen-to-square"></i></a>
                                                                                            </td>
                                                                                            <td style="text-align: center;vertical-align: middle;">
                                                                                                <a class="btnn" href="javascript:void(0)"
                                                                                                    th:onclick="eliminar_modal_sec1_3([[${item.car_ficha_s1_p1_3pk.id}]],[[${item.car_ficha_s1_p1_3pk.id_ficha}]])"
                                                                                                    title="Eliminar"> <i class="fa-solid fa-trash-can"></i></a>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                      
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row" >
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="p1_3_total" class="col-form-label pt-0">La suma total es:</label>
                                                                        <div>
                                                                            <input type="text" class="form-control" id="p1_3_total"  th:field="*{car_ficha_s1.p1_3_total}" name="p1_3_total" value="0" readonly />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            
                                                            <div class="row "  style="margin-left:20px;">                                                             
                                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                        <div class="row mb-3 " >
                                                                            <label for="p2_11_s1"  class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label">1.4. De haber residentes mayores de 18 años, ¿cuáles son los motivos por los que no se logró su reintegración familiar?</label>

                                                                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                                <div class="form-check form-check-inline">
                                                                                    <input  class="form-check-input" type="radio"  id="p1_4_1" name="p1_4" value="a" th:field="*{car_ficha_s1.p1_4}"  th:onchange="valida_p1_4s1(); validaRequeridosRadios('p1_4')" required/>
                                                                                    <label class="form-check-label" for="p1_4_1">a. La familia del residente no mostró interés en trabajar su reintegración</label>
                                                                                </div>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input  class="form-check-input" type="radio"  id="p1_4_2" name="p1_4" value="b" th:field="*{car_ficha_s1.p1_4}"    th:onchange="valida_p1_4s1(); validaRequeridosRadios('p1_4')" required/>
                                                                                    <label class="form-check-label" for="p1_4_2">b. La familia refiere que no cuenta con medios económicos para recibir al residente </label>
                                                                                </div>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input  class="form-check-input" type="radio"  id="p1_4_3" name="p1_4" value="c" th:field="*{car_ficha_s1.p1_4}" th:onchange="valida_p1_4s1(); validaRequeridosRadios('p1_4')" required/>
                                                                                    <label class="form-check-label" for="p1_4_3">c. El/la residente aún no cuenta con herramientas que garanticen su independencia y autonomía fuera del CAR</label>
                                                                                </div>
                                                                                <div class="form-check form-check-inline">
                                                                                    <input  class="form-check-input" type="radio"  id="p1_4_4" name="p1_4" value="d" th:field="*{car_ficha_s1.p1_4}"  th:onchange="valida_p1_4s1(); validaRequeridosRadios('p1_4')" required/>
                                                                                    <label class="form-check-label" for="p1_4_4">d.  La familia no cuenta con los medios para garantizar la atención de salud del residente con discapacidad</label>
                                                                                </div>
                                                                                
                                                                                <div class="form-check form-check-inline">
                                                                                    <input  class="form-check-input" type="radio"  id="p1_4_5" name="p1_4" value="e" th:field="*{car_ficha_s1.p1_4}"   th:onchange="valida_p1_4s1(); validaRequeridosRadios('p1_4')" required/>
                                                                                    <label class="form-check-label" for="p1_4_5">e. Otros (detalle) </label>
                                                                                </div>
                                                                                <br><br>
                                                                                        
                                                                                        <textarea th:disabled="*{car_ficha_s1.p1_4 == 'e'? 'false':'true'}"
                                                                                                  id="p1_4_detalle" 
                                                                                                  th:field="*{car_ficha_s1.p1_4_detalle}" 
                                                                                                  name="p1_4_detalle" 
                                                                                                  maxlength="450" 
                                                                                                  class="form-control" 
                                                                                                  onkeyup="this.value = this.value.toUpperCase(); 
                                                                                                    if (this.value.length > 450) 
                                                                                                        this.value = this.value.slice(0, 450);" 
                                                                                                  rows="3" 
                                                                                                  placeholder="Detallar Otros"></textarea>

                                                                                        <br/>


                                                                                        </div>



                                                                         </div>
                                                                    </div>
                                                                </div>
                                                           
                                                            
                                                            <div class="row" style="margin-left:20px;">  
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label for="p08_11_1" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label">1.5. Precisar la cantidad de personas de nacionalidad extranjera, de acuerdo al país de proveniencia</label>
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                            <table class="table table-responsive">
                                                                                <thead class="table-light ">
                                                                                    <tr>
                                                                                        <th>Grupo poblacional</th>
                                                                                        <th>Bolivia</th>
                                                                                        <th>Chile</th>
                                                                                        <th>Colombia</th>
                                                                                        
                                                                                         <th>Ecuador</th>
                                                                                          <th>Venezuela</th>
                                                                                           <th>Otros(especificar)</th>
                                                                                            <th>Total</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <label class="form-check-label" for="p3_14_1_s1">1. Femenino</label>
                                                                                        </td>
                                                                                        <td><input type="number" id="p1_5_f_bolivia" th:field="*{car_ficha_s1.p1_5_f_bolivia}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotal(); updateSubTotalBolivia(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_f_chile"  th:field="*{car_ficha_s1.p1_5_f_chile}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotal(); updateSubTotalChile(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_f_colo"  th:field="*{car_ficha_s1.p1_5_f_colo}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotal(); updateSubTotalColo(); updateTotalx()" required></td>
                                                                                        <td><input type="number" id="p1_5_f_ecu" th:field="*{car_ficha_s1.p1_5_f_ecu}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotal(); updateSubTotalEcu(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_f_vene"  th:field="*{car_ficha_s1.p1_5_f_vene}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotal(); updateSubTotalVene(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_f_otro"  th:field="*{car_ficha_s1.p1_5_f_otro}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotal(); updateSubTotalOtro; updateTotalx()" required></td>
                                                                                        
                                                                                        <td><input  type="number" id="p1_5_f_total"  th:field="*{car_ficha_s1.p1_5_f_total}" class="form-control"  readonly></td>

                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <label class="form-check-label" for="p3_14_2_s1">2. Masculino</label>
                                                                                        </td>
                                                                                        <td><input type="number" id="p1_5_m_bolivia" th:field="*{car_ficha_s1.p1_5_m_bolivia}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotalm(); updateSubTotalBolivia(); updateTotalx()" required></td>
                                                                                        <td><input type="number" id="p1_5_m_chile"  th:field="*{car_ficha_s1.p1_5_m_chile}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotalm(); updateSubTotalChile(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_m_colo"  th:field="*{car_ficha_s1.p1_5_m_colo}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotalm(); updateSubTotalColo(); updateTotalx()" required></td>
                                                                                        <td><input type="number" id="p1_5_m_ecu" th:field="*{car_ficha_s1.p1_5_m_ecu}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotalm(); updateSubTotalEcu(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_m_vene"  th:field="*{car_ficha_s1.p1_5_m_vene}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotalm(); updateSubTotalVene(); updateTotalx()" required></td>
                                                                                        <td><input  type="number" id="p1_5_m_otro"  th:field="*{car_ficha_s1.p1_5_m_otro}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength); updateTotalm(); updateSubTotalOtro(); updateTotalx()" required></td>
                                                                                        
                                                                                       <td><input  type="number" id="p1_5_m_total"  th:field="*{car_ficha_s1.p1_5_m_total}" class="form-control"  readonly></td>

                                                                                    </tr>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <label class="form-check-label" for="p3_14_3_s1">3. Subtotal</label>
                                                                                        </td>
                                                                                        <td><input  type="number" id="p1_5_subtotal_bolivia" th:field="*{car_ficha_s1.p1_5_subtotal_bolivia}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);" readonly></td>
                                                                                        <td><input type="number" id="p1_5_subtotal_chile"  th:field="*{car_ficha_s1.p1_5_subtotal_chile}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);" readonly></td>
                                                                                        <td><input  type="number" id="p1_5_subtotal_colo"  th:field="*{car_ficha_s1.p1_5_subtotal_colo}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);" readonly></td>
                                                                                        <td><input type="number" id="p1_5_subtotal_ecu" th:field="*{car_ficha_s1.p1_5_subtotal_ecu}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);" readonly></td>
                                                                                        <td><input  type="number" id="p1_5_subtotal_vene"  th:field="*{car_ficha_s1.p1_5_subtotal_vene}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);" readonly></td>
                                                                                        <td><input  type="number" id="p1_5_subtotal_otro"  th:field="*{car_ficha_s1.p1_5_subtotal_otro}" class="form-control" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, this.maxLength);" readonly></td>
                                                                                    
                                                                                        <td><input  type="number" id="p1_5_total"  th:field="*{car_ficha_s1.p1_5_total}" class="form-control"  readonly></td>
                                                                                    </tr>
                                                                                    
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="row" style="margin-left:20px;">
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <div class="row mb-3">
                                                                        <label class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label mb-3" >
                                                                            1.6. El CAR, ¿tiene residentes cuyos padres y/o se encuentren privados de libertad?  :</label>
                                                                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                                                                            <div class="form-check form-check-inline">
                                                                                <input class="form-check-input" type="radio"  id="p1_6_si" name="p1_6"  value="S" th:field="*{car_ficha_s1.p1_6}"   th:required="true" />
                                                                                <label class="form-check-label" for="p1_6_si">SI</label>
                                                                            </div>
                                                                            <div class="form-check form-check-inline">
                                                                                <input class="form-check-input" type="radio"  id="p1_6_no" name="p1_6" value="N" th:field="*{car_ficha_s1.p1_6}"  th:required="true"  />
                                                                                <label class="form-check-label" for="p1_6_no">NO</label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                             <div class="accordion-item" >
                                                                                    <div class="d-flex justify-content-between">
                                                                                         <div th:if="${ficha.flag_validar != '2'}">
                                                                                            <button  id="btn_guardar_sec_1x" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_1x" onclick="guardar_parcial(this)">
                                                                                                <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                                            </button>
                                                                                        </div>
                                                                                        <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                                            <div id="div_sec_1_alert_validadox" th:fragment="data_sec_1_alert_validadox">
                                                                                                <div>
                                                                                                    <button id="btn_validar_sec_1x" class="btn btn-warning btn_validar_parcialx" type="button" name="btn_validar_sec_1x" onclick="validar_parcial(this)">
                                                                                                        <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                                    </button>
                                                                                                </div>

                                                                                                 <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                                                <div  class="alert alert-success" role="alert" th:if="${ficha.estado_s1x != null && ficha.estado_s1x.equals('1')}">
                                                                                                    <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                                                </div></div>
                                                                                            </div>
                                                                                        </div>

                                                                                    </div>
                                                                                </div>

                                                        </div>
                                                    <br/>
                                                    </div>
                                        </div> 
                                          
                                                <div class="accordion-item " th:if="${ficha.id_ficha != null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingFour">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_2') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="true" aria-controls="panelsStayOpen-collapseFour">
                                                            II. DOCUMENTACIÓN DEL CAR 
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseFour" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_2') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }"aria-labelledby="panelsStayOpen-headingFour">
                                                        <div class="accordion-body">
                                                            
                                                            <input type="hidden" id="id_sec_2" th:field="*{car_ficha_s2.id_ficha_s2}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.usu_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.usu_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s2.fch_valida}"/> 
                                                         
                                                           

                                                            

                                                                
                                                            
                                                            
                                                            <br/>
                                                           <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_2" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_2" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_2_alert_validado" th:fragment="data_sec_2_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_2" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_2" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">

                                                                                <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s2.estado_s2 != null && ficha.educa_ficha_s2.estado_s2.equals('1')}">
                                                                                    <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                            
                                                            
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="accordion-item " th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingFive">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_3') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFive" aria-expanded="true" aria-controls="panelsStayOpen-collapseFive">
                                                            III. PERSONAL DEL CAR
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseFive" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_3') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-headingFive">
                                                        <div class="accordion-body">
                                                            
                                                         
                                                            
                                                           
                                                       <input type="hidden" id="id_sec_3"     th:field="*{car_ficha_s3.id_ficha_s3}"/>
                                                            <input type="hidden" id="car_ficha_s3_id_ficha"        th:field="*{car_ficha_s3.id_ficha}"/>
                                                            <input type="hidden" id="car_ficha_s3_usu_registro"    th:field="*{car_ficha_s3.usu_registro}"/>
                                                            <input type="hidden" id="car_ficha_s3_fch_registro"    th:field="*{car_ficha_s3.fch_registro}"/>
                                                            <input type="hidden" id="car_ficha_s3_usu_actualiza"   th:field="*{car_ficha_s3.usu_actualiza}"/>
                                                            <input type="hidden" id="car_ficha_s3_fch_actualiza"   th:field="*{car_ficha_s3.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s3.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s3.fch_valida}"/> 
                                                            
                                                            
                                                          
                                                            
                                                            
                                                            
                                                              
                            
                           
                                                            <br/>
                                                          
                                                            
                                                          <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_3" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_3" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_3_alert_validado" th:fragment="data_sec_3_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_3" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_3" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                                <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s3.estado_s3 != null && ficha.educa_ficha_s3.estado_s3.equals('1')}">
                                                                                    <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                    </div>
                                                </div>
                                             </div>       
                                                    
                                                    
                                                    

                                                <div class="accordion-item " th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingSix">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_4') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseSix" aria-expanded="true" aria-controls="panelsStayOpen-collapseSix">
                                                            IV. IDENTIDAD
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseSix" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_4') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-headingSix">

                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_5" th:field="*{car_ficha_s4.id_ficha_s4}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s4.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s4.usu_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s4.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s4.usu_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s4.fch_actualiza}"/>
                                                             <input type="hidden" th:field="*{car_ficha_s4.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s4.fch_valida}"/> 

                                                            
                                                           
                                                           
                                                            
                                                            

                                                            <br/>
                                                          <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_4" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_4" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_4_alert_validado" th:fragment="data_sec_4_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_4" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_4" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>

                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                                <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s4.estado_s4 != null && ficha.educa_ficha_s4.estado_s4.equals('1')}">
                                                                                    <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                                </div>
                                                                            </div> 
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="accordion-item" th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-headingSeven">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_5') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseSeven" aria-expanded="true" aria-controls="panelsStayOpen-collapseSeven">
                                                            V. EDUCACIÓN
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapseSeven" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_5') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-headingSeven">

                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_6" th:field="*{car_ficha_s5.id_ficha_s5}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.usu_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.usu_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s5.fch_valida}"/> 
                                                            
                                                     

                                                                
                                           <!--------------------------------------------------------------------------------------->      
                                                  
                                                             <br/>
                                                            <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_5" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_5" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_5_alert_validado" th:fragment="data_sec_5_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_5" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_5" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                                <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s5.estado_s5 != null && ficha.educa_ficha_s5.estado_s5.equals('1')}">
                                                                                    <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            
                                                           
                                                        </div>    
                                                        
                                                        </div>
                                                    </div>
                                                    
                                                    
                                                    
                                                            <!-- FIN PUNTO  6          -->


                                                          


                                                <div class="accordion-item" th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-heading6">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_6') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse6" aria-expanded="true" aria-controls="panelsStayOpen-collapse6">
                                                            VI. SALUD
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapse6" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_6') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-heading6">
                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_6" th:field="*{car_ficha_s6.id_ficha_s6}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s6.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s6.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s6.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s6.usu_registro}" />
                                                               <input type="hidden" th:field="*{car_ficha_s6.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s6.fch_valida}"/> 

                                                            

                                                            
                                                            <br/>
                                                              <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_6" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_6" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_6_alert_validado" th:fragment="data_sec_6_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_6" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_6" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                           <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s6.estado_s6 != null && ficha.educa_ficha_s6.estado_s6.equals('1')}">
                                                                                <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                            </div></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                            
                                               <div class="accordion-item" th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-heading7">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_7') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse7" aria-expanded="true" aria-controls="panelsStayOpen-collapse7">
                                                            VII. REGLAMENTO INTERNO
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapse7" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_7') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-heading7">
                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_7" th:field="*{car_ficha_s7.id_ficha_s7}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s7.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s7.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s7.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s7.usu_registro}" />
                                                               <input type="hidden" th:field="*{car_ficha_s7.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s7.fch_valida}"/> 

                                                            

                                                            
                                                            <br/>
                                                              <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_7" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_7" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_7_alert_validado" th:fragment="data_sec_7_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_7" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_7" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                           <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s7.estado_s7 != null && ficha.educa_ficha_s7.estado_s7.equals('1')}">
                                                                        <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                    </div></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>             

                                                <div class="accordion-item" th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-heading8">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_8') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse8" aria-expanded="true" aria-controls="panelsStayOpen-collapse8">
                                                            VIII. NORMAS DE CONVIVENCIA
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapse8" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_8') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-heading8">
                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_8" th:field="*{car_ficha_s8.id_ficha_s8}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s8.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s8.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s8.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s8.usu_registro}" />
                                                               <input type="hidden" th:field="*{car_ficha_s8.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s8.fch_valida}"/> 

                                                            

                                                            
                                                            <br/>
                                                              <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_8" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_8" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_8_alert_validado" th:fragment="data_sec_8_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_8" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_8" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                           <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s8.estado_s8 != null && ficha.educa_ficha_s8.estado_s8.equals('1')}">
                                                                        <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                    </div></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>  
                                                            
                                                 <div class="accordion-item" th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-heading9">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_9') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse9" aria-expanded="true" aria-controls="panelsStayOpen-collapse9">
                                                            IX. INSTANCIAS EXTERNAS
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapse9" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_9') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-heading9">
                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_9" th:field="*{car_ficha_s9.id_ficha_s9}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s9.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s9.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s9.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s9.usu_registro}" />
                                                               <input type="hidden" th:field="*{car_ficha_s9.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s9.fch_valida}"/> 

                                                            

                                                            
                                                            <br/>
                                                              <div class="accordion-item" >
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_9" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_9" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_9_alert_validado" th:fragment="data_sec_9_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_9" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_9" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                            <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s9.estado_s9 != null && ficha.educa_ficha_s9.estado_s9.equals('1')}">
                                                                                <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                            </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>  
                                                            
                                                <div class="accordion-item" th:if="${ficha.id_ficha!=null}">
                                                    <h2 class="accordion-header" id="panelsStayOpen-heading10">
                                                        <button th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_10') ? 'accordion-button':'accordion-button collapsed' }" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapse10" aria-expanded="true" aria-controls="panelsStayOpen-collapse10">
                                                            X. CONDICIONES MATERIALES
                                                        </button>
                                                    </h2>
                                                    <div id="panelsStayOpen-collapse10" th:class="${ficha.txt_btn_guardado_parcial != null && ficha.txt_btn_guardado_parcial.equals('btn_guardar_sec_10') ? 'accordion-collapse collapse show':'accordion-collapse collapse' }" aria-labelledby="panelsStayOpen-heading10">
                                                        <div class="accordion-body">

                                                            <input type="hidden" id="id_sec_10" th:field="*{car_ficha_s10.id_ficha_s10}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s10.id_ficha}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s10.fch_registro}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s10.fch_actualiza}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s10.usu_registro}" />
                                                               <input type="hidden" th:field="*{car_ficha_s10.usu_valida}"/>
                                                            <input type="hidden" th:field="*{car_ficha_s10.fch_valida}"/> 

                                                            

                                                            
                                                            <br/>
                                                              <div class="accordion-item">
                                                                <div class="d-flex justify-content-between">
                                                                    <div th:if="${ficha.flag_validar != '2'}">
                                                                        <button  id="btn_guardar_sec_10" class="btn btn-warning btn_guardar_parcial" type="button" name="btn_guardar_sec_10" onclick="guardar_parcial(this)">
                                                                            <i class="fa fa-cloud-upload" aria-hidden="true"></i> Guardado parcial
                                                                        </button>
                                                                    </div>
                                                                    <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA'}">
                                                                        <div id="div_sec_10_alert_validado" th:fragment="data_sec_10_alert_validado">
                                                                            <div>
                                                                                <button id="btn_validar_sec_10" class="btn btn-warning btn_validar_parcial" type="button" name="btn_validar_sec_10" onclick="validar_parcial(this)">
                                                                                    <i class="fa fa-cloud-upload" aria-hidden="true"></i> Validado parcial
                                                                                </button>
                                                                            </div>
                                                                          
                                                                            <div th:if="${session.rol_usuario == 'ROL_ESPECIALISTA' || session.rol_usuario == 'ROL_COMISIONADO'}">
                                                                            <div  class="alert alert-success" role="alert" th:if="${ficha.educa_ficha_s10.estado_s10 != null && ficha.educa_ficha_s10.estado_s10.equals('1')}">
                                                                                <h4 class="alert-heading" style="font-weight: bold">Secci&oacute;n validada!</h4>
                                                                            </div>
                                                                             </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                 
                                                

                                                
                                                            
                                                            
                                                            
                                                            
                                                            
                                            </div>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                        </form>
                        
                      
                        <!--MODAL INFORMACION-->
                        <div id="mdl_info_ficha" class="modal fade" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false">
                            <div class="modal-dialog">
                                <!--Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                                        <h4 class="modal-title">Informaci&oacute;n</h4>
                                    </div>
                                    <div class="modal-body">
                                        <strong><p><label id="msg_modal" th:text="${ficha.msg_modal}"></label></p></strong>
                                    </div>
                                    <!--<div class="modal-footer">
                                        <button id="btn_cerrar" type="button" class="btn btn-primary" data-bs-dismiss="modal">
                                            <i class="fa-solid fa-rectangle-xmark"></i> Cerrar</button>
                                    </div>-->
                                </div>
                            </div>
                        </div>
                        <!--FIN MODAL INFORMACION-->
                        
                        <!-- INICIO MODAL SECCION SEC1- 1.2 -->
                        
                        <div class="modal fade" id="modal_sec1_2" tabindex="-1" role="dialog" aria-labelledby="modal_sec1_2" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5">Registrar</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>

                                    <div id="div_sec1_2_mdl" th:fragment="data_form_mdl_sec1_2">

                                        <form id           = "frm_mdl_sec1_2" 
                                              action       = "#" 
                                              method       = "post" 
                                              autocomplete = "off"
                                              th:action    = "@{#}" 
                                              th:object    = "${car_ficha_s1_p1_2}"
                                              class        = "was-validated">
                                            <div class="modal-body">

                                                <div id="loader_mdl_sec1_2" style="display: none;">
                                                    <center>
                                                        <div class="loader"></div>
                                                        <h2 class="color_procesando">Procesando...</h2>
                                                    </center>
                                                </div>
                                                <div id="loader_form_mdl_sec1_2">

                                                    <input id="mdl_sec1_2_id"            type="hidden" th:field="*{car_ficha_s1_p1_2pk.id}"/>
                                                    <input id="mdl_sec1_2_id_ficha"      type="hidden" th:field="*{car_ficha_s1_p1_2pk.id_ficha}"/>
                                                    <input id="mdl_sec1_2_fch_registro"  type="hidden" th:field="*{fch_registro}"/>
                                                    <input id="mdl_sec1_2_usu_registro"  type="hidden" th:field="*{usu_registro}" />

                                                    <div class="col-lg-12 col-xl-12 mt-4">
                                                                <label for="p1_2_grupo_ocupa" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label pt-0">Grupo Ocupacional</label>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <select id="p1_2_grupo_ocupa" name="p1_2_grupo_ocupa" th:field="*{p1_2_grupo_ocupa}" class="form-select" style="width: 100%;" >
                                                                        <option value="">-- SELECCIONAR --</option>
                                                                        <option value="1">Discapacidad severa </option>
                                                                        <option value="2">Víctimas de trata de personas </option>
                                                                        <option value="3">Enfermedades de salud mental</option>
                                                                        <option value="4">Víctimas de violencia sexual</option>
                                                                        <option value="5">Gestantes y madres adolescentes</option>
                                                                        <option value="6">Consumo de drogas, alcoholismo o fármacos</option>
                                                                        <option value="7">Enfermedades crónicas o terminales</option>
                                                                        <option value="8">Personas que viven con VIH/Sida</option>
                                                                        <option value="9">Experiencia de vida en valle</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                    
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_2_peruanas" class="col-form-label pt-0">Cantidad Peruanas:</label>
                                                                <div>
                                                                    <input id="p1_2_peruanas" th:field="*{p1_2_peruanas}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotal()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_2_extranjeras" class="col-form-label pt-0">Cantidad Extranjeras:</label>
                                                                <div>
                                                                    <input id="p1_2_extranjeras" th:field="*{p1_2_extranjeras}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotal()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_2_peruanos" class="col-form-label pt-0">Cantidad Peruanos:</label>
                                                                <div>
                                                                    <input id="p1_2_peruanos" th:field="*{p1_2_peruanos}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotal()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_2_extranjeros" class="col-form-label pt-0">Cantidad Extranjeros:</label>
                                                                <div>
                                                                    <input id="p1_2_extranjeros" th:field="*{p1_2_extranjeros}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotal()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                        <div class="row mb-3">
                                                            <label for="p1_2_total" class="col-form-label pt-0">Total:</label>
                                                            <div>
                                                                <input id="p1_2_total" th:field="*{p1_2_total}" type="number" class="form-control" max="9999999999"
                                                                       oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" readonly>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    
                                                    
                                                   
                                                </div>
                                           </div>
                                            <div class="modal-footer">
                                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                                    <button id="btn_save_mdl_sec1_2" type="submit" class="btn btn-success">
                                                        <span class="fa fa-cloud-upload" aria-hidden="true"></span> Guardar</button>
                                                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                                                        <span class="fa fa-window-close" aria-hidden="true"></span> Cerrar</button>
                                                </div>
                                            </div>
                                            
                                            
                                        </form>
                                      </div>
                                </div>
                            </div>
                        </div>
                        <!-- FIN MODAL SECCION1 - 1.2 -->
                        
                        
                        
                        
                        
                        <!-- INICIO MODAL SECCION S1 1.3 -->
                        <div class="modal fade" id="modal_sec1_3" tabindex="-1" role="dialog" aria-labelledby="modal_sec1_3" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5">Registrar</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>

                                    <div id="div_sec1_3_mdl" th:fragment="data_form_mdl_sec1_3">

                                        <form id           = "frm_mdl_sec1_3" 
                                              action       = "#" 
                                              method       = "post" 
                                              autocomplete = "off"
                                              th:action    = "@{#}" 
                                              th:object    = "${car_ficha_s1_p1_3}"
                                              class        = "was-validated">
                                            <div class="modal-body">

                                                <div id="loader_mdl_sec1_3" style="display: none;">
                                                    <center>
                                                        <div class="loader"></div>
                                                        <h2 class="color_procesando">Procesando...</h2>
                                                    </center>
                                                </div>
                                                <div id="loader_form_mdl_sec1_3">

                                                    <input id="mdl_sec1_3_id"            type="hidden" th:field="*{car_ficha_s1_p1_3pk.id}"/>
                                                    <input id="mdl_sec1_3_id_ficha"      type="hidden" th:field="*{car_ficha_s1_p1_3pk.id_ficha}"/>
                                                    <input id="mdl_sec1_3_fch_registro"  type="hidden" th:field="*{fch_registro}"/>
                                                    <input id="mdl_sec1_3_usu_registro"  type="hidden" th:field="*{usu_registro}" />

                                                    <div class="col-lg-12 col-xl-12 mt-4">
                                                                <label for="p1_3_grupo_ocupa" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-form-label pt-0">Grupo Ocupacional</label>
                                                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                                    <select id="p1_3_grupo_ocupa" name="p1_3_grupo_ocupa" th:field="*{p1_3_grupo_ocupa}" class="form-select" style="width: 100%;" required>
                                                                        <option value="">-- SELECCIONAR --</option>
                                                                        <option value="X">Menos de 1 año</option>
                                                                        <option value="1">1 año</option>
                                                                        <option value="2">2 años</option>
                                                                        <option value="3">3 años</option>
                                                                        <option value="4">4 años</option>
                                                                        <option value="5">5 años</option>
                                                                        <option value="6">6 años</option>
                                                                        <option value="7">7 años</option>
                                                                        <option value="8">8 años</option>
                                                                        <option value="9">9 años</option>
                                                                        <option value="10">10 años</option>
                                                                        <option value="11">11 años</option>
                                                                        <option value="12">12 años</option>
                                                                        <option value="13">13 años</option>
                                                                        <option value="14">14 años</option>
                                                                        <option value="15">15 años</option>
                                                                        <option value="16">16 años</option>
                                                                        <option value="17">17 años</option>
                                                                        <option value="18">18 años a más</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                    
                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_3_peruanas" class="col-form-label pt-0">Cantidad Peruanas:</label>
                                                                <div>
                                                                    <input id="p1_3_peruanas" th:field="*{p1_3_peruanas}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotalP1_3()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_3_extranjeras" class="col-form-label pt-0">Cantidad Extranjeras:</label>
                                                                <div>
                                                                    <input id="p1_3_extranjeras" th:field="*{p1_3_extranjeras}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotalP1_3()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="row">
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_3_peruanos" class="col-form-label pt-0">Cantidad Peruanos:</label>
                                                                <div>
                                                                    <input id="p1_3_peruanos" th:field="*{p1_3_peruanos}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotalP1_3()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                                            <div class="row mb-3">
                                                                <label for="p1_3_extranjeros" class="col-form-label pt-0">Cantidad Extranjeros:</label>
                                                                <div>
                                                                    <input id="p1_3_extranjeros" th:field="*{p1_3_extranjeros}" type="number" class="form-control" max="999"
                                                                           oninput="calcularTotalP1_3()" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                                        <div class="row mb-3">
                                                            <label for="p1_3_subtotal" class="col-form-label pt-0">SubTotal:</label>
                                                            <div>
                                                                <input id="p1_3_subtotal" th:field="*{p1_3_subtotal}" type="number" class="form-control" max="9999999999"
                                                                        >
                                                            </div>
                                                        </div>
                                                    </div>

                                                    
                                                    
                                                   
                                                </div>
                                           </div>
                                            <div class="modal-footer">
                                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                                    <button id="btn_save_mdl_sec1_3" type="submit" class="btn btn-success">
                                                        <span class="fa fa-cloud-upload" aria-hidden="true"></span> Guardar</button>
                                                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                                                        <span class="fa fa-window-close" aria-hidden="true"></span> Cerrar</button>
                                                </div>
                                            </div>
                                            
                                            
                                        </form>
                                      </div>
                                </div>
                            </div>
                        </div>

                        <!-- FIN MODAL SECCION 1.3 -->
                        
                        
                         <!-- INICIO MODAL SECCION 5-3 -->
                        
                        <!-- FIN MODAL SECCION 5_3 -->
                        
                        
                        <!-- INICIO MODAL SECCION 5-4 -->
                        
                        <!-- FIN MODAL SECCION 5_4 -->
                        
              <!-- INICIO MODAL SECCION 5-5 -->
                       
                        <!-- FIN MODAL SECCION 5_5 -->
                        
            <!-- INICIO MODAL SECCION 5-6 -->
                        
                        <!-- FIN MODAL SECCION 5_6 -->
                        
                        
                        <!-- INICIO MODAL SECCION 5-7 -->
                       

                        <!-- FIN MODAL SECCION 5_7 -->
                     
                  
                             
                        <!-- INICIO MODAL SECCION 5-8 -->
                    
                        <!-- FIN MODAL SECCION 5_8 -->
                        
                        <!-- INICIO MODAL SECCION 5-9 -->
                                 
<!-- FIN MODAL SECCION 5-9 -->


<!-- INICIO MODAL SECCION 5-10 -->

<!-- FIN MODAL SECCION 5-10 -->



<!-- INICIO MODAL SECCION 5-31 -->

<!-- FIN MODAL SECCION 5-31 -->

    </div>
</div> 
<!--End row -->

</section> 
            
            
            
            <div class="scroll-to-top" onclick="scrollToTop()"></div>
            <!-- Jquery -->
            <script th:src="@{/webjars/jquery/3.6.3/jquery.min.js}" type="text/javascript"></script>
            <!-- Tempus-dominus -->
            <script th:src="@{/webjars/popperjs__core/2.11.7/dist/umd/popper.min.js}"></script>
            <script th:src="@{/webjars/eonasdan__tempus-dominus/6.7.7/dist/js/tempus-dominus.js}" ></script>
            <script th:src="@{/webjars/eonasdan__tempus-dominus/6.7.7/dist/js/jQuery-provider.js}" ></script>
            <script th:src="@{/webjars/momentjs/2.29.4/min/moment-with-locales.min.js}"></script>
            <!--jscript lista atencion -->
            <script type="text/JavaScript" src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.print/1.6.0/jQuery.print.js"></script>
            <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->
            <script th:src="@{/js/gestioncar/usuario/ficha_formulario.js}" type="text/javascript"></script>

           
  <script>
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>

          
        </div> <!-- End content -->
    </body>    
</html>